import { useSanityConfig } from "../composables/index.js";
export const createProxyClient = () => {
  const config = useSanityConfig();
  return {
    fetch: (query, params, options) => {
      if (!config.visualEditing) {
        throw new Error("Visual editing is not configured");
      }
      return $fetch(
        config.visualEditing?.proxyEndpoint,
        {
          method: "POST",
          body: { query, params, options }
        }
      );
    }
  };
};
